<!DOCTYPE html><html><head><meta charset="utf-8"><title>FFXIV Fancy Detail Amethyst Edition</title><link href="https://fonts.googleapis.com/css?family=Aldrich" rel="stylesheet"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><link href="css/default.css" rel="stylesheet"><script>var wsUri="ws://@HOST_PORT@/MiniParse"</script><script src="http://cleaveore.ffxiv.io/2.1.3/cleaveore.js"></script><script src="js/jquery-3.2.1.min.js" type="text/javascript"></script><style></style></head><body><!-- 헤더 --><div class="header"><div class="encounter"><div class="encounter_list"><i class="material-icons">schedule</i></div><div class="duration">--:--</div><div class="title">NO DATA</div><div class="RDPS ncount" data-prev="0">-</div><div class="RHPS ncount" data-prev="0">-</div><div class="refreshbtn" onclick="location.href=location.href"><i class="material-icons">refresh</i></div><div class="capturebtn" onclick="Capture()"><i class="material-icons">local_see</i></div><div class="endencounterbtn" onclick="EndEncounter()"><i class="material-icons">timer_off</i></div><div class="menubtn"><i class="material-icons">settings</i></div></div></div><!-- 오버레이 실제 영역 --><div class="notifyarea"><div class="logo"></div><div class="toptext">Project: The Stone<br><span style="font-size:14px">Fancy Detail: Amethyst Edition</span></div><div class="donate" data-label="setting" onclick="opensetting()">Settings</div><div class="donate" data-excludelang="ko" data-excludelink="window.open('https://twip.kr/donate/nanaluka');" onclick="window.open(&#34;https://www.paypal.me/ffxivio/10&#34;)" data-label="donate">DONATE</div><div class="donate" onclick="window.open(&#34;https://github.com/laiglinne-ff/FFXIV_Chamsucript&#34;)" data-label="issue">Leave ISSUE</div><div class="title">1.0 Brilliant Cut Patch</div><div lang="true" en="Setting Page renew and\ncustomize option added" ko="설정 페이지를 새단장\n커스텀 옵션이 추가되었습니다."></div><div class="title">0.9 Ceylon Cut Patch</div><div lang="true" en="bugfix and EN language support now!\n" ko="일부 버그가 수정되었으며 영어를 지원합니다!"></div></div><div class="body"><div class="dpsheader"></div><div class="dpsarea"></div><div class="hpsheader"></div><div class="hpsarea"></div></div><!-- 화면 안에 마우스가 들어오면 드래그 영역을 보여주기 위한 DIV --><div class="footer"></div></body><style id="customcss"></style><script src="js/lang.js"></script><script>function setCSS(){$("#customcss").html("");var a="";try{var e=["glapld","mrdwar","drk","cnjwhm","sch","ast","pglmnk","lncdrg","lognin","sam","arcbrd","mch","thmblm","acnsmn","rdm","lmb"];for(var t in e){var s=e[t],o=e[t].substring(e[t].length-3,e[t].length).toUpperCase();a+=".body>div>."+o+">.barcover>.bar, .body>div>."+o+">.barcover>.pbar {background:"+option[s]+";}",a+=".body>div>."+o+">.barcover>.bar *, .body>div>."+o+">.barcover>.pbar * {border-color:"+option[s]+";}"}for(var t in e){var s=e[t],o=e[t].substring(e[t].length-3,e[t].length).toUpperCase();a+=".body>div>."+o+">.data {color:"+option[s+"f"]+";}"}a+=".body {background:"+option.bgcolor+";}",a+=".body::after { content:' '; position:fixed; left:2px; right:2px; bottom:2px; top:40px; border-radius:3px; overflow:hidden; z-index:-1;"+option.backgroundimg+";}",a+=".DPS>.job {background-color:"+option.c_dps+" !important;}",a+=".Tanker>.job {background-color:"+option.c_tanker+" !important;}",a+=".Healer>.job {background-color:"+option.c_healer+" !important;}",a+="*>.job::after {filter:drop-shadow(0px 0px 1px "+option.iconglow+") drop-shadow(0px 0px 1px "+option.iconglow+"); -webkit-filter:drop-shadow(0px 0px 1px "+option.iconglow+") drop-shadow(0px 0px 1px "+option.iconglow+");}",a+=".body>div>*>.barcover>.overhealbar {background:"+option.overhealcolor+";}",a+=".body>div>*>.barcover>.overhealbar * {border-color:"+option.overhealcolor+";}",$("#customcss").html(a)}catch(a){}}function saveSetting(){localStorage.setItem("fancyset",JSON.stringify(option))}function loadSetting(){var a=JSON.parse(localStorage.getItem("fancyset"));null!=a&&(option=a);for(var e in option)0!==$("#"+e).length&&"boolean"==typeof option[e]&&$("#"+e).attr("data-checked",option[e])}function opensetting(){if(void 0==w||w.closed){void 0!=window.screenLeft?window.screenLeft:screen.left,void 0!=window.screenTop?window.screenTop:screen.top,window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;w=onACTWebSocket?window.open("./popup.html","settingwindow"+(1e3*Math.random()).toFixed(),"menubar=0,resizable=0,width=740,height=580"):window.open("./popup.html","settingwindow","menubar=0,resizable=0,width=740,height=580")}}function classExists(a,e){return!$(a).find(e).length>0}function onOverlayDataUpdate(a){$(".notifyarea").hide(),lastCombat=new Combatant(a,sortkey_dps),lastCombat.AttachPets(),lastCombat.resort(),lastCombatHPS=new Combatant(a,sortkey_hps),lastCombatHPS.AttachPets(),lastCombatHPS.resort(),stopEnc||(createHeader(),listResort())}function createHeader(){var a={dpsarea:[lastCombat,columnarray],hpsarea:[lastCombatHPS,columnarrayhps]};$(".dpsheader").html(""),$(".hpsheader").html("");for(var e in a){var t="."+e.replace("area","header"),s=a[e][0],o=a[e][1];if(void 0==a[e][0]){var s={sortkey:""};s.sortkey="dpsarea"==e?"damage":"healed",$(".dpsheader").hide(),$(".hpsheader").hide(),$(".dpsarea").hide(),$(".hpsarea").hide()}else $(".dpsheader").show(),$(".hpsheader").show(),$(".dpsarea").show(),$(".hpsarea").show();for(var r in o){var n=o[r].replace(/%/gi,"_"),i=o[r];void 0!==replaceColName[o[r]]&&(i=replaceColName[o[r]]),$(t).append("<span class='"+n+"' data-sort='"+o[r]+"'>"+i+"</span>"),smallColumns.indexOf(o[r])>-1&&$(t+">."+n).width(50),largeColumns.indexOf(o[r])>-1&&$(t+">."+n).width(140),s.sortkey==getsortKey(o[r])&&$(t+">."+n).addClass("hilight")}$(t+">span").click(function(){$(this).parent().is(".dpsheader")?(sortkey_dps=$(this).attr("data-sort"),lastCombat.resort(sortkey_dps,!0),createHeader(),listResort()):(sortkey_hps=$(this).attr("data-sort"),lastCombatHPS.resort(sortkey_hps,!0),createHeader(),listResort())})}}function listResort(){var a=new Date,e={dpsarea:[lastCombat,columnarray],hpsarea:[lastCombatHPS,columnarrayhps]};if(option.displayhps?($(".hpsarea").show(),$(".hpsheader").show()):($(".hpsarea").hide(),$(".hpsheader").hide(),$(".hpsarea").html("")),null!=lastCombat&&null!=lastCombatHPS){$(".encounter>.duration").text(lastCombat.Encounter.duration),$(".encounter>.title").text(lastCombat.Encounter.title),$(".encounter>.RDPS").text(Math.floor(lastCombat.Encounter.encdps)),$(".encounter>.RHPS").text(Math.floor(lastCombat.Encounter.enchps)),$(".ncount").each(function(){1==option.numbanim&&$(this).prop("Counter",$(this).attr("data-prev")).animate({Counter:$(this).text()},{duration:500,easing:"swing",step:function(a){$(this).text(Math.ceil(a))}})}),$(".encounter>.RDPS").attr("data-prev",Math.floor(lastCombat.Encounter.encdps)),$(".encounter>.RHPS").attr("data-prev",Math.floor(lastCombat.Encounter.enchps)),$(".body").is(".raid")?($(".dpsarea").html(""),$(".dpsheader").hide()):$(".dpsheader").show();for(var t in e){var s=e[t];if(option.displayhps||"hpsarea"!=t){0==option.rankanim?$(".body").addClass("noanim"):$(".body").removeClass("noanim");var o=0;for(var r in s[0].Combatant)s[0].Combatant[r].isPet||o++;o>16?$(".body").addClass("raid"):$(".body").removeClass("raid");for(var r in s[0].Combatant){var n=s[0].Combatant[r],i=n.name.replace(/(\s|'|\.|\"|\(|\))/gi,"_"),d=".body>."+t+">."+i;0==$(".body>."+t).find("."+i).length&&$(".body>."+t).append('<div class="'+i+'"></div>'),$(d).removeClass().addClass(i),$(d).addClass(n.Class),$(d).addClass(n.role),$(d).addClass(n.Job);var c=!1;if("hpsarea"==t&&1==option.hpsallview&&"Healer"!=n.role?$(d).remove():c=!0,c){if(classExists(d,".job")&&$(d).append("<div class='job'></div>"),classExists(d,".shadowbar")&&($(d).append("<div class='shadowbar'></div>"),$(d+">.shadowbar").append("<div class='leftdeco'></div>"),$(d+">.shadowbar>.leftdeco").append("<div class='leftdeco_inner'></div>"),$(d+">.shadowbar").append("<div class='rightdeco'></div>")),classExists(d,".barcover")&&($(d).append("<div class='barcover'></div>"),$(d+">.barcover").append("<div class='bar'></div>"),$(d+">.barcover>.bar").append("<div class='leftdeco'></div>"),$(d+">.barcover>.bar>.leftdeco").append("<div class='leftdeco_inner'></div>"),$(d+">.barcover>.bar").append("<div class='rightdeco'></div>")),void 0!=option.opacity&&$(d+">.barcover").css("opacity",option.opacity/100),null!=n.pets&&s[0].summonerMerge){classExists(d+">.barcover",".pbar")&&($(d+">.barcover").append("<div class='pbar'></div>"),$(d+">.barcover>.pbar").append("<div class='leftdeco'></div>"),$(d+">.barcover>.pbar>.leftdeco").append("<div class='leftdeco_inner'></div>"),$(d+">.barcover>.pbar").append("<div class='rightdeco'></div>")),$(d+">.barcover>.pbar").css("width",n[s[0].sortkey]/n.maxdamage*100+"%");var l=0;for(var r in n.pets)l+=n.pets[r][s[0].sortkey];$(d+">.barcover>.bar").css("width",(n[s[0].sortkey]-l)/n.maxdamage*100+"%"),$(d+">.barcover>.pbar").show()}else $(d+">.barcover>.pbar").hide(),$(d+">.barcover>.bar").css("width",n[s[0].sortkey]/n.maxdamage*100+"%");if(0==n.maxdamage&&$(d+">.barcover>.bar").css("width","100%"),"hpsarea"==t){classExists(d+">.barcover",".overhealbar")&&($(d+">.barcover").append("<div class='overhealbar'></div>"),$(d+">.barcover>.overhealbar").append("<div class='leftdeco'></div>"),$(d+">.barcover>.overhealbar>.leftdeco").append("<div class='leftdeco_inner'></div>"),$(d+">.barcover>.overhealbar").append("<div class='rightdeco'></div>")),$(d+">.barcover>.overhealbar").css("width",n.get(s[0].sortkey)/n.maxdamage*100+"%");var l=0,p=0;for(var r in n.pets)l+=n.pets[r].get(s[0].sortkey),p+=n.pets[r].get("overHeal");0==l&&0==p||$(d+">.barcover>.pbar").show(),$(d+">.barcover>.pbar").css("width",(n[s[0].sortkey]-p)/n.maxdamage*100+"%"),$(d+">.barcover>.bar").css("width",(n[s[0].sortkey]-l-n.original.OverHeal)/n.maxdamage*100+"%"),0==l&&$(d+">.barcover>.pbar").hide()}classExists(d,".data")&&$(d).append("<div class='data'></div>"),0==option.nickhide?$(d+">.data").addClass("viewnick"):$(d+">.data").removeClass("viewnick");var h=n.rank+1+". ";if("Limit Break"==n.name)h="L.B";else if(void 0!=option.nickshorter&&!/[가-힣]/.test(n.name)&&"YOU"!=n.name&&/\s/.test(n.name))switch(option.nickshorter){case"n0":h+=n.name;break;case"n1":/\s/.test(n.name)&&(h+=(n.name+"").match(/\s/).length>1?n.name:n.name.split(" ")[0]+" "+n.name.split(" ")[1].substring(0,1)+".");break;case"n2":/\s/.test(n.name)&&(h+=(n.name+"").match(/\s/).length>1?n.name:n.name.split(" ")[0].substring(0,1)+". "+n.name.split(" ")[1]);break;case"n3":/\s/.test(n.name)&&(h+=(n.name+"").match(/\s/).length>1?n.name:n.name.split(" ")[0].substring(0,1)+". "+n.name.split(" ")[1].substring(0,1)+".")}else h+=n.name;classExists(d,".data>.name")?$(d+">.data").append("<span class='name' style='display:inline-block;'>"+h+"</span>"):$(d+">.data>.name").html(h),classExists(d,".data>.columns")&&$(d+">.data").append("<div class='columns'></div>");for(var m in s[1]){var b=s[1][m].replace(/%/gi,"_"),v=n.get(s[1][m]);$(".body").is(".raid")&&(v=parseFloat(v).toFixed(0)),s[1][m].indexOf("%")>-1?v=parseFloat(v).toFixed(1)+"%":"number"==typeof v&&(v=v>1e6?(v/1e6).toFixed(1)+"m":v>1e4?(v/1e3).toFixed(1)+"k":(v+"").replace(/\.[0-9]+/,"")),"maxhit"==s[1][m]&&(v=n.get("maxhitstr").replace(/Midare Setsugekka/,"Midare…")+"-"+n.get("maxhitval")),"maxheal"==s[1][m]&&(v=n.get("maxhealstr")+"-"+n.get("maxhealval")),classExists(d,".data>.columns>."+b)&&$(d+">.data>.columns").append("<span class='"+b+"' data-prev='0'>"+v+"</span>"),"maxhit"!=b&&"maxheal"!=b||$(d+">.data>.columns>."+b).width(140),"swings"!=b&&"hits"!=b&&"misses"!=b&&"deaths"!=b||$(d+">.data>.columns>."+b).width(50),$(d+">.data>.columns>."+b).html(v)}}}$(".body>."+t+">div").each(function(){var a=!1,e=!1;for(var t in s[0].Combatant){var o=s[0].Combatant[t].name.replace(/(\s|'|\.|\"|\(|\))/gi,"_");$(this).is("."+o)&&(a=!0)}s[0].summonerMerge&&$(this).is(".AVA")&&($(this).hide(),e=!0),a||$(this).remove(),!e&&a&&u++});var u=0;for(var r in s[0].Combatant){var n=s[0].Combatant[r],i=n.name.replace(/(\s|'|\.|\"|\(|\))/gi,"_"),g="."+t+">."+i;"hpsarea"==t&&0==n.enchps?($(g).hide(),u--):"hpsarea"!=t||$(g).is(".AVA")||$(g).show(),$(g).css("top",24*u+2+"px"),s[0].summonerMerge&&!n.isPet?u++:s[0].summonerMerge||u++}var f=0;$("."+t+">div").each(function(){void 0!=$(this).attr("style")?$(this).attr("style").indexOf("display: none")==-1&&f++:f++}),$("."+t).css("height",24*f+4+"px")}}}aresize(),console.log((new Date).getTime()-a.getTime()+"ms")}function aresize(){$(".dpsarea>div").each(function(){var a=$(this).find(".name").offset().left-$($(this).find(".columns>*")[0]).offset().left;$(this).find(".name").css("width",Math.abs(a)+20)}),$(".hpsarea>div").each(function(){var a=$(this).find(".name").offset().left-$($(this).find(".columns>*")[0]).offset().left;$(this).find(".name").css("width",Math.abs(a)+15)})}onACTWebSocket||($(".capturebtn").remove(),$(".refreshbtn").css("right","62px")),$("[lang]").each(function(){$(this).html($(this).attr(userLang.substring(0,2)).replace(/\\n/im,"<br>"))}),$("[data-excludelang]").each(function(){userLang.substring(0,2)==$(this).attr("data-excludelang")&&($(this).attr("onclick",$(this).attr("data-excludelink")),$(this).hide())});var sortkey_dps="encdps",sortkey_hps="enchps",stopEnc=!1,mode="viewlist";loadSetting(),setCSS();var columnarray=["encdps","damage","crithit%","maxhit","swings","misses","deaths"],columnarrayhps=["enchps","healed","effectiveHeal","damageShield","overHeal%"],lastCombatHPS=null,w;$(".menubtn").click(function(){opensetting()});var smallColumns=["deaths","misses","swings","hits"],largeColumns=["maxhit","maxheal"],replaceColName=curLang.columns;sortkey="encdps",createHeader(),$(window).resize(function(){aresize()})</script></html>